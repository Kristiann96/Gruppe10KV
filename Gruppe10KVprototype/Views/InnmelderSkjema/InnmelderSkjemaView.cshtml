@model Models.InnmelderSkjemaModel

@{
    ViewData["Title"] = "Meld inn hendelse";
    Layout = "_Layout";
}

<!-- Link til ekstern CSS-fil -->
<head>
    <link rel="stylesheet" href="~/css/form-styles.css"/>
</head>

<h1 class="form-title">Meld inn hendelse</h1>
<div class="form-container">
    <form asp-controller="InnmelderSkjema" asp-action="SubmitForm" method="post" class="form">
        <!-- Subject -->
        <div class="form-group">
            <label for="subject">Subjekt</label>
            <input type="text" id="subject" name="Subject" asp-for="Subject" required/>
        </div>

        <!-- GeoJSON Data -->
        <div class="form-group">
            <label for="geoJson">Lokasjonsdata (GeoJSON)</label>
            <textarea id="geoJson" name="GeoJson" asp-for="GeoJson" readonly></textarea>
        </div>

        <!-- Checkbox Options -->
        <div class="checkbox-group">
            <input type="checkbox" id="uttrykning" name="Uttrykning" value="true" asp-for="Uttrykning"/>
            <input type="hidden" name="Uttrykning" value="false"/>
            <label for="uttrykning">Farlig for utrykningstjenester</label>
        </div>

        <div class="checkbox-group">
            <input type="checkbox" id="something" name="Something" value="true" asp-for="Something"/>
            <input type="hidden" name="Something" value="false"/>
            <label for="something">Noe å huke av</label>
        </div>

        <div class="checkbox-group">
            <input type="checkbox" id="attachFile" name="AttachFile" value="true" asp-for="AttachFile"/>
            <input type="hidden" name="AttachFile" value="false"/>
            <label for="attachFile">Legg ved fil</label>
            <button type="button" id="uploadButton" class="secondary-button">Last opp</button>
        </div>

        <!-- Beskrivelse -->
        <div class="form-group">
            <label for="description">Beskrivelse</label>
            <textarea id="description" name="Description" asp-for="Description" required></textarea>
        </div>

        <!-- Knappeseksjon -->
        <div class="button-group">
            <button type="button" id="backButton" class="secondary-button">Tilbake til kart</button>
            <button type="button" id="advancedButton" class="secondary-button">Avansert knapp</button>
            <button type="submit" class="primary-button">Se over innmelding</button>
        </div>


    </form>
</div>

@section Scripts {
    <script>
        // Populate GeoJSON data from URL parameter if available
        document.addEventListener('DOMContentLoaded', function() {
            var urlParams = new URLSearchParams(window.location.search);
            var geoJson = urlParams.get('geoJson');
            if (geoJson) {
                document.getElementById('geoJson').value = decodeURIComponent(geoJson);
            }
        });
    </script>
}

@section Styles {
    <style>
        /* Generelle stilendringer for checkbox-gruppene */
        .checkbox-group {
            margin-bottom: 20px; /* Avstand mellom hver gruppe */
            display: flex;
            align-items: center;
        }

            .checkbox-group input[type="checkbox"] {
                width: 20px;
                height: 20px;
                margin-right: 10px; /* Avstand mellom boksen og teksten */
            }

            .checkbox-group label {
                font-size: 16px; /* Gjør teksten større */
                color: #555; /* Gråfarge for bedre lesbarhet */
            }

        /* Styling av knappen */
        #uploadButton {
            background-color: #777; /* Grå bakgrunnsfarge */
            color: white;
            padding: 10px 20px;
            margin-left: 20px; /* Avstand fra label */
            font-size: 16px; /* Større tekst på knappen */
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }

            #uploadButton:hover {
                background-color: #555; /* Mørkere gråfarge ved hover */
            }
    </style>
}